<p>
    <h1><%= @user.username %></h1>
</p>

<p>
    <b>Email:</b>
    <%= @user.email %>
</p>

<p>
  <b>Member since:</b>
  <%= @user.created_at.to_date %>
</p>

<p>
  <b>Credential:</b>
  <% if @user.admin? %>
    admin
  <% else %>
    normal user
  <% end %>
</p>

<p>
    <b>Posts:</b>
    <% if @user.posts.first.nil? %>
        No post
    <% else %>
        <table>
        <tr>
            <th>Title</th>
            <th>Author</th>
            <th>Created at</th>
            <th>Updated at</th>
        </tr>
        <% @user.posts.each do |post| %>
        <tr>
            <td><%= link_to post.title, post %></td>
            <td><%= link_to post.user.username, post.user %></td>
            <td><%= time_ago_in_words post.created_at %></td>
            <td><%= time_ago_in_words post.updated_at %></td>
        </tr>
        <% end %>
        </table>
    <% end %>
</p>

<% if current_user?(@user) or current_user.admin? %>
    <%= link_to 'Edit profile', edit_user_path(@user) %> |
    <%= link_to 'Delete', @user, method: :delete, data: { confirm: 'Are you sure?' } %>
<% end %>
<%= link_to 'Back', users_path %>
